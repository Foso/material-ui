module.exports = "---\ntitle: Consulta de m√≠dia no React para design responsivo\n---\n\n# useMediaQuery\n\n<p class=\"description\">Este √© um hook de CSS media query para React. Ele ouve correspond√™ncias para uma consulta de m√≠dia no CSS. Permite a renderiza√ß√£o de componentes com base no fato de a consulta corresponder ou n√£o.</p>\n\nAlgumas das principais caracter√≠sticas:\n\n- ‚öõÔ∏è Tem uma API React idiom√°tica.\n- üöÄ Com desempenho, ele observa o documento para detectar quando suas consultas de m√≠dia mudam, em vez de pesquisar os valores periodicamente.\n- üì¶ [1 kB gzipped](/size-snapshot).\n- ü§ñ Ele suporta a renderiza√ß√£o do lado do servidor.\n\n## Consulta de m√≠dia simples\n\nVoc√™ deve fornecer uma consulta de m√≠dia ao primeiro argumento do hook. The media query string can be any valid CSS media query, e.g. [`'(prefers-color-scheme: dark)'`](/customization/palette/#user-preference).\n\n{{\"demo\": \"pages/components/use-media-query/SimpleMediaQuery.js\", \"defaultCodeOpen\": true}}\n\n‚ö†Ô∏è You can't use `'print'` per browsers limitation, e.g. [Firefox](https://bugzilla.mozilla.org/show_bug.cgi?id=774398).\n\n## Usando helpers de ponto de quebra do Material-UI\n\nVoc√™ pode usar os [helpers de ponto de quebra](/customization/breakpoints/) do Material-UI da seguinte maneira:\n\n```jsx\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nfunction MyComponent() {\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.up('sm'));\n\n  return <span>{`theme.breakpoints.up('sm') matches: ${matches}`}</span>;\n}\n```\n\n{{\"demo\": \"pages/components/use-media-query/ThemeHelper.js\", \"defaultCodeOpen\": false}}\n\nComo alternativa, voc√™ pode usar uma fun√ß√£o de retorno de chamada, aceitando o tema como um primeiro argumento:\n\n```jsx\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nfunction MyComponent() {\n  const matches = useMediaQuery(theme => theme.breakpoints.up('sm'));\n\n  return <span>{`theme.breakpoints.up('sm') matches: ${matches}`}</span>;\n}\n```\n\n‚ö†Ô∏è N√£o h√° **nenhum suporte de tema padr√£o**, voc√™ precisa injet√°-lo em um provedor de temas.\n\n## Usando a sintaxe JavaScript\n\nVoc√™ pode usar [json2mq](https://github.com/akiran/json2mq) para gerar uma string de consulta de m√≠dia a partir de um objeto JavaScript.\n\n{{\"demo\": \"pages/components/use-media-query/JavaScriptMedia.js\", \"defaultCodeOpen\": true}}\n\n## Testando\n\nVoc√™ precisa de uma implementa√ß√£o de [matchMedia](https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia) em seu ambiente de teste.\n\nPor exemplo, [jsdom n√£o suporta ainda](https://github.com/jsdom/jsdom/blob/master/test/web-platform-tests/to-upstream/html/browsers/the-window-object/window-properties-dont-upstream.html). Voc√™ deve usar um polyfill para isso. √â recomend√°vel usar [css-mediaquery](https://github.com/ericf/css-mediaquery) para emular.\n\n```js\nimport mediaQuery from 'css-mediaquery';\n\nfunction createMatchMedia(width) {\n  return query => ({\n    matches: mediaQuery.match(query, { width }),\n    addListener: () => {},\n    removeListener: () => {},\n  });\n}\n\ndescribe('MeusTestes', () => {\n  beforeAll(() => {\n    window.matchMedia = createMatchMedia(window.innerWidth);\n  });\n});\n```\n\n## Renderiza√ß√£o no servidor (Server-Side Rendering)\n\n> ‚ö†Ô∏è Renderiza√ß√£o do lado servidor e consultas de m√≠dia do lado cliente s√£o fundamentalmente conflitantes. Esteja ciente da escolha. O suporte s√≥ pode ser parcial.\n\nTente confiar em consultas de m√≠dia CSS do lado do cliente primeiro. Por exemplo, voc√™ poderia usar:\n\n- [`<Box display>`](/system/display/#hiding-elements)\n- [`themes.breakpoints.up(x)`](/customization/breakpoints/#css-media-queries)\n- ou [`<Hidden implementation=\"css\">`](/components/hidden/#css)\n\nSe nenhuma das alternativas acima for uma op√ß√£o, voc√™ poder√° continuar lendo esta se√ß√£o da documenta√ß√£o.\n\nPrimeiro, voc√™ precisa adivinhar as caracter√≠sticas da solicita√ß√£o do cliente, no servidor. Voc√™ tem a op√ß√£o entre usar:\n\n- **User agent**. Analise a string do user agent do cliente para extrair informa√ß√µes. √â recomend√°vel usar [ua-parser-js](https://github.com/faisalman/ua-parser-js) para analisar o user agent.\n- **Client hints**. Leia as dicas que o cliente est√° enviando para o servidor. Esteja ciente de que esse recurso [n√£o √© suportado em qualquer lugar](https://caniuse.com/#search=client%20hint).\n\nPor fim, voc√™ precisa fornecer uma implementa√ß√£o de [matchMedia](https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia) para o `useMediaQuery` com as caracter√≠sticas adivinhadas anteriormente. √â recomend√°vel usar [css-mediaquery](https://github.com/ericf/css-mediaquery) para emular o matchMedia.\n\nFor instance on the server-side:\n\n```js\nimport ReactDOMServer from 'react-dom/server';\nimport parser from 'ua-parser-js';\nimport mediaQuery from 'css-mediaquery';\nimport { ThemeProvider } from '@material-ui/core/styles';\n\nfunction handleRender(req, res) {\n  const deviceType = parser(req.headers['user-agent']).device.type || 'desktop';\n  const ssrMatchMedia = query => ({\n    matches: mediaQuery.match(query, {\n      // The estimated CSS width of the browser.\n      width: deviceType === 'mobile' ? '0px' : '1024px',\n    }),\n  });\n\n  const html = ReactDOMServer.renderToString(\n    <ThemeProvider\n      theme={{\n        props: {\n          // Change the default options of useMediaQuery\n          MuiUseMediaQuery: { ssrMatchMedia },\n        },\n      }}\n    >\n      <App />\n    </ThemeProvider>,\n  );\n\n  // ‚Ä¶\n}\n```\n\n{{\"demo\": \"pages/components/use-media-query/ServerSide.js\", \"defaultCodeOpen\": false}}\n\nMake sure you provide the same custom match media implementation to the client-side to guarantee a hydration match.\n\n## Migrando de `withWidth()`\n\nO componente de ordem superior `withWidth()` injeta a largura da tela da p√°gina. Voc√™ pode reproduzir o mesmo comportamento com o hook `useWidth`:\n\n{{\"demo\": \"pages/components/use-media-query/UseWidth.js\"}}\n\n## API\n\n### `useMediaQuery(query, [options]) => matches`\n\n#### Argumentos\n\n1. `query` (*String* | *Function*): Uma string representando a consulta de m√≠dia a ser manipulada ou uma fun√ß√£o de retorno de chamada aceitando o tema (no contexto) que retorna uma string.\n2. `options` (*Object* [opcional]): \n  - `options.defaultMatches` (*Boolean* [opcional]): Como `window.matchMedia()` n√£o esta dispon√≠vel no servidor, retornamos uma correspond√™ncia padr√£o durante a primeira montagem. O valor padr√£o √© `false`.\n  - `options.matchMedia` (*Function* [opcional]) Voc√™ pode fornecer sua pr√≥pria implementa√ß√£o de *matchMedia*. This can be used for handling an iframe content window.\n  - `options.noSsr` (*Boolean* [opcional]): Padr√£o √© `false`. Para realizar a reconcilia√ß√£o de renderiza√ß√£o do lado do servidor, ele precisa renderizar duas vezes. Uma primeira vez sem nada e uma segunda vez com os filhos. Este ciclo de renderiza√ß√£o de dupla passagem tem uma desvantagem. √â mais lento. Voc√™ pode definir esse sinalizador para `true` se voc√™ **n√£o estiver fazendo a renderiza√ß√£o do lado do servidor**.\n  - `options.ssrMatchMedia` (*Function* [optional]) You can provide your own implementation of *matchMedia* in a [server-side rendering context](#server-side-rendering).\n\nNota: Voc√™ pode alterar as op√ß√µes padr√£o usando [`default props`](/customization/globals/#default-props), este recurso pertence ao tema atrav√©s da chave `MuiUseMediaQuery`.\n\n#### Retornos\n\n`matches`: Matches √© `true` se o documento coincidir com a consulta de m√≠dia, e `false` quando isso n√£o ocorrer.\n\n#### Exemplos\n\n```jsx\nimport React from 'react';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nexport default function SimpleMediaQuery() {\n  const matches = useMediaQuery('(min-width:600px)');\n\n  return <span>{`(min-width:600px) matches: ${matches}`}</span>;\n}\n```"